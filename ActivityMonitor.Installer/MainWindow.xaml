<Window x:Class="ActivityMonitor.Installer.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Activity Monitor Installer" SizeToContent="WidthAndHeight"
        WindowStartupLocation="CenterScreen" ResizeMode="NoResize"
        Background="#F5F5F5">
    <Grid Margin="20">
        <!-- Step 1: Welcome -->
        <Grid x:Name="GridWelcome">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                
                <!-- Container 1: Title & Subtitle -->
                <StackPanel Margin="0,0,0,40">
                    <TextBlock Text="Activity Monitor" FontSize="28" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                    <TextBlock Text="Ready to install on your computer." FontSize="14" Foreground="#666" HorizontalAlignment="Center"/>
                </StackPanel>

                <!-- Container 2: Checkboxes -->
                <StackPanel Margin="0,0,0,40">
                    <CheckBox x:Name="ChkRuntime" Content="Install .NET 8 Runtime (Required if missing)" 
                              IsChecked="False" HorizontalAlignment="Center" Margin="0,0,0,10" Foreground="#555"/>
                    <CheckBox x:Name="ChkDesktopShortcut" Content="Create Shortcut on Desktop" 
                              IsChecked="True" HorizontalAlignment="Center" Margin="0,0,0,10" Foreground="#555"/>
                    
                    <!--
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <CheckBox x:Name="ChkStrictMonitor" Content="Enable strict monitor" 
                                  IsChecked="False" VerticalAlignment="Center" Foreground="#555"/>
                        <TextBlock Text="(?) " Margin="5,0,0,0" VerticalAlignment="Center" Foreground="#007ACC" Cursor="Help" FontWeight="Bold" ToolTipService.InitialShowDelay="300">
                             <TextBlock.ToolTip>
                                <ToolTip Background="White" BorderBrush="#ccc" BorderThickness="1">
                                    <StackPanel Margin="5" MaxWidth="300">
                                        <TextBlock Text="Strict Monitor" FontWeight="Bold" Margin="0,0,0,5" FontSize="14"/>
                                        <TextBlock TextWrapping="Wrap" Margin="0,0,0,2">
                                            <Bold>Enabled:</Bold> Session ends after 5 minutes of user inactivity.
                                        </TextBlock>
                                        <TextBlock TextWrapping="Wrap">
                                            <Bold>Disabled:</Bold> Session stays active if an application (e.g., Teams call) is keeping the system awake.
                                        </TextBlock>
                                    </StackPanel>
                                </ToolTip>
                            </TextBlock.ToolTip>
                        </TextBlock>
                    </StackPanel>
                    -->
                </StackPanel>

                <!-- Container 3: Install Button -->
                <StackPanel>
                    <Button Content="Install Now" Width="150" Height="40" Click="BtnInstall_Click" 
                            Foreground="White" FontSize="14" BorderThickness="0" Cursor="Hand">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Setter Property="Background" Value="#007ACC"/>
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="Button">
                                            <Border Background="{TemplateBinding Background}" CornerRadius="5">
                                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                            </Border>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#005A9E"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                </StackPanel>
            </StackPanel>
        </Grid>

        <!-- Step 2: Installing -->
        <Grid x:Name="GridInstalling" Visibility="Collapsed">
            <StackPanel VerticalAlignment="Center">
                <TextBlock Text="Installing..." FontSize="18" FontWeight="SemiBold" HorizontalAlignment="Center" Margin="0,0,0,20"/>
                <ProgressBar x:Name="ProgressBar" Height="10" Width="400" IsIndeterminate="True"/>
                <TextBlock x:Name="TxtStatus" Text="Preparing..." Margin="0,15,0,0" HorizontalAlignment="Center" Foreground="#555"/>
            </StackPanel>
        </Grid>

        <!-- Step 3: Complete -->
        <Grid x:Name="GridComplete" Visibility="Collapsed">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <Path Data="M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z" 
                      Fill="Green" Stretch="Uniform" Height="50" Width="50" Margin="0,0,0,20"/>
                <TextBlock Text="Installation Complete!" FontSize="20" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                <TextBlock Text="Activity Monitor is running in the background." Foreground="#666" HorizontalAlignment="Center" Margin="0,0,0,30"/>
                <Button Content="Close" Width="120" Height="35" Click="BtnClose_Click"/>
            </StackPanel>
        </Grid>
    </Grid>
</Window>
